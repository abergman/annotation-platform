# Production Environment Configuration Template
# Copy this to .env.production and update values for deployment

# ==============================================
# üö® REQUIRED - Set these before deployment
# ==============================================

# Application Security (Generate long random strings)
SECRET_KEY=CHANGE_ME_LONG_RANDOM_STRING_32_CHARS_MIN
JWT_SECRET=CHANGE_ME_DIFFERENT_LONG_RANDOM_STRING

# Database Connection (Use your existing managed database)
DATABASE_URL=postgresql://your_user:your_password@your_host:25060/your_db?sslmode=require
DB_HOST=your_managed_db_host
DB_PORT=25060
DB_NAME=your_database_name  
DB_USER=your_db_user
DB_PASSWORD=your_db_password

# ==============================================
# üîß Application Configuration
# ==============================================

# Runtime Environment
NODE_ENV=production
DEBUG=False
HOST=0.0.0.0
PORT=8000

# WebSocket Configuration
WEBSOCKET_PORT=8001
ENABLE_WEBSOCKETS=true
MAX_ROOMS_PER_USER=10
MESSAGE_QUEUE_SIZE=1000
PRESENCE_TIMEOUT=300

# Authentication & Security
ACCESS_TOKEN_EXPIRE_MINUTES=30
BCRYPT_ROUNDS=12
JWT_EXPIRES_IN=24h

# CORS Settings (will be auto-populated by DigitalOcean)
ALLOWED_ORIGINS=https://your-app-domain.ondigitalocean.app
DOMAIN=your-app-domain.ondigitalocean.app

# File Upload Settings
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=10485760
EXPORT_DIR=/app/exports
UPLOAD_ALLOWED_TYPES=pdf,txt,doc,docx,json

# ==============================================
# üóÑÔ∏è Cache & Performance
# ==============================================

# Redis Configuration (Optional - for WebSocket scaling)
REDIS_URL=redis://your_managed_redis_host:25061
REDIS_HOST=your_managed_redis_host
REDIS_PORT=25061
REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# Performance Settings
COMPRESSION_ENABLED=true
CACHE_TTL=3600
MAX_REQUEST_SIZE=50mb
WORKER_PROCESSES=1

# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# ==============================================
# üìä Monitoring & Logging  
# ==============================================

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DIR=/app/logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Health Monitoring
HEALTH_CHECK_INTERVAL=30
PROMETHEUS_ENABLED=false

# ==============================================
# üìß Optional Services
# ==============================================

# Email Configuration (for notifications - optional)
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=your_smtp_username
SMTP_PASS=your_smtp_password
SMTP_FROM=noreply@your-domain.com

# External APIs (optional)
OPENAI_API_KEY=your-openai-key-if-needed
HUGGINGFACE_API_KEY=your-huggingface-key-if-needed

# ==============================================
# üîê SSL/TLS (handled by DigitalOcean)
# ==============================================

SSL_ENABLED=true
HSTS_MAX_AGE=31536000

# ==============================================
# üì± Frontend Environment Variables
# ==============================================

# These will be set automatically by DigitalOcean App Platform:
# VITE_API_URL=${api-backend.PUBLIC_URL}/api
# VITE_WS_URL=wss://${websocket-server.PUBLIC_URL}/ws
# VITE_APP_NAME="Academic Annotation Platform"
# VITE_APP_VERSION="1.0.0"

# ==============================================
# üíæ Backup Configuration (optional)
# ==============================================

BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
S3_BACKUP_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1